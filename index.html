<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="None">
    
    
    <link rel="shortcut icon" href="./img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>LibertyWeb Docs</title>
    <link href="./css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="./css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="./css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="./js/jquery-3.2.1.min.js"></script>
    <script src="./js/bootstrap-3.3.7.min.js"></script>
    <script src="./js/highlight.pack.js"></script>
    
      <script src="./js/elasticlunr.min.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '.';
      var is_top_frame = (window === window.parent);
        
        var pageToc = [
          {title: "Liberty Web Docs", url: "#_top", children: [
              {title: "Installation Guide", url: "#installation-guide" },
              {title: "Reverse Proxy", url: "#reverse-proxy" },
          ]},
        ];

    </script>
    <script src="./js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>

<nav class="navbar wm-page-top-frame">
  <div class="container-fluid wm-top-container">
    
    <div class="wm-top-tool pull-right wm-vcenter">
      <form class="dropdown wm-vcentered" id="wm-search-form" action="./search.html">
        
        <button id="wm-search-show" class="btn btn-sm btn-default" type="submit"
          ><i class="fa fa-search" aria-hidden="true"></i></button>

        <div class="input-group input-group-sm wm-top-search">
          <input type="text" name="q" class="form-control" id="mkdocs-search-query" placeholder="Search" autocomplete="off">
          <span class="input-group-btn" role="search">
            
            <button class="btn btn-default dropdown-toggle collapse" data-toggle="dropdown" type="button"><span class="caret"></span></button>
            <ul id="mkdocs-search-results" class="dropdown-menu dropdown-menu-right"></ul>
            <button id="wm-search-go" class="btn btn-default" type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
          </span>
        </div>
      </form>
    </div>

    
    <div class="wm-top-tool wm-vcenter pull-right wm-small-left">
      <button id="wm-toc-button" type="button" class="btn btn-sm btn-default wm-vcentered"><i class="fa fa-th-list" aria-hidden="true"></i></button>
    </div>

    
    

    
    <a href="" class="wm-top-brand wm-top-link wm-vcenter">
      
      <div class="wm-top-title">
        LibertyWeb Docs<br>
        
      </div>
    </a>
  </div>
</nav>

  <div id="main-content" class="wm-page-top-frame">
    
<nav class="wm-toc-pane">
  
  <ul class="wm-toctree">
        <li class="wm-toc-li wm-toc-lev1 "><a href="" class="wm-article-link wm-toc-text">Liberty Web Docs</a>
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="endpoints/" class="wm-article-link wm-toc-text">Endpoints</a>
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="reverse-proxy-via-caddy/" class="wm-article-link wm-toc-text">Reverse Proxy setup with Caddy</a>
</li>
  </ul>
</nav>

    <div class="wm-content-pane">
      <iframe class="wm-article" name="article"></iframe>
    </div>
  </div>

<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="endpoints/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="endpoints/" class="btn btn-xs btn-link">
        Endpoints
      </a>
    </div>
    
  </div>

    

    <h1 id="liberty-web-docs">Liberty Web Docs</h1>
<p>Welcome to the LibertyBans Web Interface Documentation.</p>
<h2 id="installation-guide">Installation Guide</h2>
<ul>
<li>Download the latest version of Liberty Web <a href="https://github.com/Dimitri-Bit/Liberty-Bans-Web/releases">here</a></li>
<li>Create a new folder in which you will run your Liberty Web server (If you are using a shared hosting panel such as Pterodactyl simply upload the jar to your server)</li>
<li>Copy your LibertyBans plugin folder and place it in the same directory as your Liberty Web jar (the plugin folder should be configured with the external database connection credentials)
<img alt="Directory Example Image" src="img/image_1.png" /></li>
<li>Start the Liberty Web jar <code>java -jar Liberty_Web-VERSION.jar</code>, when you start Liberty Web for the first time a config.yml file will be created which you can then configure. The config looks something like this:</li>
</ul>
<pre><code class="language-yaml">server:
  # On what port the server will run
  port: 8080
  host: &quot;0.0.0.0&quot;

# Cache configuration
caffeine:
  # Some usernames aren't saved in the database, so we must retrieve them using Mojang's API
  # The provided configuration should be suitable for most users
  mojang:
    # Maximum amount of usernames to cache
    maxSize: 150
    # After what time cache record will expire
    expiration: &quot;10m&quot;
</code></pre>
<ul>
<li>After you're done editing your config.yml start Liberty Web once again, on the second startup a new folder called frontend will be created. In this folder you can edit or completely change the style of your website to suit your needs. If you wish to create a completely new frontend you should learn some more about the backend on <a href="endpoints/">this guide</a>.</li>
<li>You are done, you can now view your punishments online. Please note that this is meant to be a public facing website to allow all your players to publicly view your server's punishments. Some features meant for administration use of the server should be added in future updates so stay tuned.</li>
</ul>
<h2 id="reverse-proxy">Reverse Proxy</h2>
<p>After you setup Libertybans Web, you will probably want it to be available to https, on a domain. A reverse proxy allows you to run infinite web servers on the same port by proxying the requests.</p>
<p>The following are the requirements for doing so:</p>
<ol>
<li>A VPS/Dedicated Server.</li>
<li>Basic knowledge with linux.</li>
<li>A (sub)domain.</li>
<li>You are not able to do that on any hosting with a simple panel like pterodactyl. </li>
<li>Run LibertyWeb on a port that is not 443 or 80, as they will be used by the reverse proxy.</li>
<li>Running LibertyWeb on the same machine (very recommended, but not required).</li>
</ol>
<h3 id="installing-nginx">Installing NGINX</h3>
<p>Note: You do not need to install it if you are running pterodactyl for example.</p>
<p>The following is how to install Nginx on Debian-Based linux distributions. </p>
<pre><code class="language-sh">sudo apt update
sudo apt-get install nginx
sudo systemctl enable --now nginx
sudo systemctl start nginx
</code></pre>
<p>Run the following to check if Nginx was installed &amp; running properly:</p>
<pre><code class="language-sh">curl 127.0.0.1:80
</code></pre>
<p>If it prints an HTML, then it's working properly.</p>
<h3 id="installing-certbot">Installing certbot</h3>
<p>The following is how to install certbot on Debian-Based linux distributions.</p>
<pre><code class="language-sh">sudo apt update
sudo apt install -y certbot
sudo apt install -y python3-certbot-nginx
</code></pre>
<h3 id="creating-a-certificate">Creating a Certificate</h3>
<p>For HTTPS to be secure, a certificate is required. You need to do the following before proceeding.</p>
<ol>
<li>Set the domain you want to use to A record, and set the IP to your VPS/Dedicated Server IP. If you're using CloudFlare, disable proxy mode (the cloud icon) unless you know what you're doing.</li>
<li>Make sure the port 443 and 80 are allowed through your firewall (443 is required for the web server to stay working.)</li>
</ol>
<p>Run the following command to create the certificate:</p>
<pre><code class="language-sh">certbot certonly --nginx -d &lt;DOMAIN&gt;
</code></pre>
<ul>
<li>Replace <DOMAIN> with your domain or subdomain.</li>
</ul>
<h3 id="creating-the-nginx-configuration-file">Creating the NGINX configuration file.</h3>
<p>SFTP into your machine. Go to this directory <code>/etc/nginx/sites-available</code> and create a new file and call it <code>libertyweb.conf</code></p>
<p>Open the file and set the file content to this, replace <DOMAIN> with your domain, and <PORT> with the port running LibertyWeb.</p>
<pre><code class="language-nginxconf">server {
    listen 443 ssl;
    server_name &lt;DOMAIN&gt;;

    ssl_certificate /etc/letsencrypt/live/&lt;DOMAIN&gt;/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/&lt;DOMAIN&gt;/privkey.pem;

    location / {
        proxy_pass http://&lt;HOST&gt;:&lt;PORT&gt;;
        proxy_set_header Host $host;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;upgrade&quot;;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
</code></pre>
<ul>
<li>If LibertyWeb is not on the same machine, replace <code>127.0.0.1</code> with the IP required to reach it.</li>
</ul>
<h4 id="enabling-configuration">Enabling Configuration</h4>
<p>The final step is to enable your NGINX configuration and restart it.</p>
<pre><code class="language-sh">sudo ln -s /etc/nginx/sites-available/libertyweb.conf /etc/nginx/sites-enabled/libertyweb.conf
sudo systemctl restart nginx
</code></pre>
<h3 id="done">Done!</h3>
<p>It should be accessible from your domain now, with https!</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="endpoints/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="endpoints/" class="btn btn-xs btn-link">
        Endpoints
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>
<!--
MkDocs version : 1.5.3
Build Date UTC : 2023-12-01 22:56:21.561705+00:00
-->